# Weekly County Weather Report Structure Specification

**Document Version:** 1.0  
**Prepared by:** Person B  
**Date:** 2026-01-06  
**Status:** Approved for Implementation

---

## 1. Document Purpose

This document defines the complete structure, sections, and content requirements for the automated weekly county-level weather reports generated by the Climate Scoop system. This specification ensures consistency, completeness, and compliance with meteorological reporting standards.

---

## 2. Report Overview

### 2.1 Report Type
- **Format:** PDF (Portable Document Format)
- **Frequency:** Weekly (7-day forecast period)
- **Coverage:** County-level with ward-level spatial breakdowns
- **Language:** English (primary), with option for Swahili in future versions

### 2.2 Report Period
- **Standard Period:** Monday to Sunday (7 days)
- **Forecast Horizon:** 7 days from GFS model run date
- **Generation Date:** Clearly displayed on cover page

---

## 3. Complete Report Structure

The report shall consist of the following sections in the specified order:

### **Section 1: Cover Page**
**Page 1**

#### Required Elements:
1. **Report Title**
   - Format: "Weekly Weather Outlook for [County Name] County"
   - Font: Bold, 24-28pt
   - Centered alignment

2. **Report Period**
   - Format: "Week [XX], [YYYY] ([Start Date] - [End Date])"
   - Example: "Week 50, 2024 (December 2 - December 8, 2024)"
   - Font: Regular, 14-16pt

3. **County Information**
   - County name (full official name)
   - County code (KNBS code)
   - Geographic region/zone

4. **Generation Metadata**
   - Generation date and time (UTC)
   - Model run timestamp
   - Data source (GFS v15.1 or specified version)
   - System version/identifier

5. **Institutional Branding**
   - Kenya Meteorological Department logo (if applicable)
   - System logo/branding
   - Footer: "Automated Weather Reporting System - Climate Scoop"

6. **Disclaimer Notice** (small print at bottom)
   - "This report is generated automatically from GFS forecast data. Ward-level maps are derived from spatial aggregation and are for visualization purposes only."

---

### **Section 2: Executive Summary**
**Page 2**

#### Purpose:
Provide a high-level overview of the week's weather conditions for quick reference.

#### Required Content:

1. **Summary Statistics Table**
   - Total Rainfall (mm) - Weekly sum
   - Mean Temperature (°C) - Weekly average
   - Temperature Range (°C) - Min/Max
   - Maximum Wind Speed (km/h) - Peak gust
   - Dominant Wind Direction

2. **Key Highlights (3-5 bullet points)**
   - Most significant weather events expected
   - Notable extremes (highest rainfall ward, hottest day, etc.)
   - Critical weather patterns (e.g., "Heavy rainfall expected mid-week")

3. **Weather Pattern Summary**
   - One paragraph (3-4 sentences) describing overall pattern
   - Temporal distribution (early week vs. late week conditions)

---

### **Section 3: Weekly Narrative Summary**
**Page 2-3**

#### Purpose:
Comprehensive textual description of the week's weather forecast in accessible language.

#### Required Content:

1. **Opening Paragraph**
   - Overall weather pattern for the week
   - General conditions expected

2. **Temporal Breakdown** (3 paragraphs)
   - **Early Week (Days 1-2):** Conditions, rainfall amounts, temperature ranges
   - **Mid-Week (Days 3-4):** Transition patterns, changes expected
   - **Late Week (Days 5-7):** Concluding conditions, trends

3. **Variable-Specific Details**
   - **Rainfall:** Distribution, intensity, timing of peak events
   - **Temperature:** Daily highs/lows, diurnal variations, night-time conditions
   - **Wind:** Speed ranges, direction changes, gust patterns
   - **Humidity:** Relative humidity ranges (if available)

4. **Spatial Variations**
   - Differences between wards (e.g., "Western wards expected to receive higher rainfall")
   - Geographic patterns (elevation effects, coastal influences, etc.)

#### Writing Style:
- Objective and advisory tone
- Use specific numbers and ranges
- Avoid vague terms; prefer "40-65 mm" over "moderate rainfall"
- Include temporal context ("on Tuesday afternoon", "throughout Wednesday")

---

### **Section 4: Rainfall Outlook**
**Page 3-4**

#### Required Content:

1. **Section Header**
   - "Rainfall Outlook for [County Name] County"

2. **County-Level Summary**
   - Total weekly rainfall (mm)
   - Daily breakdown (7-day table or chart)
   - Maximum daily intensity
   - Number of rainy days expected
   - Probability of above-normal rainfall (if calculated)

3. **Ward-Level Analysis**
   - Table listing all wards with:
     - Ward name
     - Total rainfall (mm)
     - Number of rainy days
     - Peak intensity day
   - Top 5 wards by total rainfall
   - Wards with highest flood risk

4. **Rainfall Distribution Map**
   - Ward-level color-coded map
   - Color scale: Blue gradient (light to dark)
   - Legend: Rainfall ranges (e.g., 0-20mm, 20-40mm, 40-60mm, 60-80mm, 80mm+)
   - County boundary overlay
   - Ward labels (optional, if readable)
   - Map title: "7-Day Total Rainfall Distribution (mm)"

5. **Temporal Patterns**
   - Daily rainfall chart (bar chart or line graph)
   - Peak rainfall days identified
   - Dry periods highlighted

6. **Narrative Description**
   - 2-3 paragraphs describing:
     - Overall rainfall pattern
     - Spatial distribution
     - Timing of significant events
     - Comparison to normal/seasonal expectations

---

### **Section 5: Temperature Outlook**
**Page 4-5**

#### Required Content:

1. **Section Header**
   - "Temperature Outlook for [County Name] County"

2. **County-Level Summary**
   - Mean weekly temperature (°C)
   - Maximum temperature (°C) and day of occurrence
   - Minimum temperature (°C) and day of occurrence
   - Temperature range (max - min)
   - Daily mean temperatures (7-day table)

3. **Ward-Level Analysis**
   - Table listing all wards with:
     - Ward name
     - Mean temperature (°C)
     - Maximum temperature (°C)
     - Minimum temperature (°C)
   - Hottest ward identified
   - Coolest ward identified

4. **Temperature Distribution Map**
   - Ward-level color-coded map
   - Color scale: Temperature gradient (cool to warm colors)
   - Legend: Temperature ranges (e.g., <18°C, 18-22°C, 22-26°C, 26-30°C, >30°C)
   - County boundary overlay
   - Map title: "7-Day Mean Temperature Distribution (°C)"

5. **Diurnal Patterns**
   - Daytime high temperatures (chart)
   - Night-time low temperatures (chart)
   - Temperature variation analysis

6. **Narrative Description**
   - 2-3 paragraphs describing:
     - Overall temperature pattern
     - Day-to-day variations
     - Spatial differences
     - Comfort level indicators
     - Comparison to seasonal norms

---

### **Section 6: Wind Outlook**
**Page 5-6**

#### Required Content:

1. **Section Header**
   - "Wind Outlook for [County Name] County"

2. **County-Level Summary**
   - Mean wind speed (km/h)
   - Maximum gust speed (km/h) and day of occurrence
   - Dominant wind direction
   - Daily peak wind speeds (7-day table)

3. **Ward-Level Analysis**
   - Table listing all wards with:
     - Ward name
     - Mean wind speed (km/h)
     - Maximum gust (km/h)
     - Dominant direction
   - Wards with highest wind speeds

4. **Wind Speed Distribution Map**
   - Ward-level color-coded map
   - Color scale: Wind speed gradient
   - Legend: Speed ranges (e.g., 0-10 km/h, 10-15 km/h, 15-20 km/h, 20-25 km/h, 25+ km/h)
   - County boundary overlay
   - Map title: "7-Day Maximum Wind Speed Distribution (km/h)"

5. **Wind Direction Analysis**
   - Wind rose diagram (if applicable)
   - Direction frequency table
   - Direction changes over the week

6. **Narrative Description**
   - 2-3 paragraphs describing:
     - Overall wind patterns
     - Speed variations
     - Direction changes
     - Impact on local conditions

---

### **Section 7: Ward-Level Visualizations**
**Page 6-8**

#### Purpose:
Detailed spatial visualizations for each major weather variable.

#### Required Maps (one per page or combined):

1. **Rainfall Distribution Map** (Full page)
   - High-resolution ward-level map
   - Color-coded by total rainfall
   - Ward boundaries clearly visible
   - County boundary highlighted
   - Legend with precise ranges
   - Scale and north arrow
   - Title and date range

2. **Temperature Distribution Map** (Full page)
   - High-resolution ward-level map
   - Color-coded by mean temperature
   - Same cartographic elements as rainfall map

3. **Wind Speed Distribution Map** (Full page)
   - High-resolution ward-level map
   - Color-coded by maximum wind speed
   - Same cartographic elements as above

#### Map Specifications:
- **Format:** PNG or vector graphics embedded in PDF
- **Resolution:** Minimum 300 DPI for print quality
- **Color Scheme:** Professional, accessible (colorblind-friendly where possible)
- **Projection:** Appropriate for Kenya (e.g., UTM Zone 37N, EPSG:32637)
- **Base Map:** Minimal, focusing on boundaries and labels

---

### **Section 8: Extreme Values and Highlights**
**Page 8**

#### Required Content:

1. **Section Header**
   - "Extreme Values and Notable Conditions"

2. **Extreme Events Table**
   - Highest single-day rainfall: Ward, value, date
   - Highest weekly rainfall: Ward, total
   - Hottest day: Ward, temperature, date
   - Coolest night: Ward, temperature, date
   - Strongest wind gust: Ward, speed, date

3. **Risk Indicators**
   - Flood risk wards (if rainfall exceeds thresholds)
   - Heat stress warnings (if applicable)
   - Wind advisories (if gusts exceed thresholds)

4. **Notable Patterns**
   - Unusual weather patterns
   - Deviations from normal
   - Significant temporal changes

---

### **Section 9: Impacts and Advisories**
**Page 9**

#### Required Content:

1. **Section Header**
   - "Impacts and Advisories"

2. **Agricultural Advisories**
   - Rainfall impact on farming activities
   - Temperature effects on crops/livestock
   - Optimal timing for agricultural activities

3. **Water Resources**
   - Rainfall contribution to water availability
   - Reservoir/river level implications

4. **Health Advisories**
   - Heat-related health warnings (if applicable)
   - Vector-borne disease risk (if data available)

5. **General Public Advisories**
   - Travel conditions
   - Outdoor activity recommendations
   - Safety precautions

6. **Sector-Specific Guidance**
   - Energy sector (cooling/heating demand)
   - Construction sector (weather-dependent activities)
   - Tourism and recreation

---

### **Section 10: Data Sources and Methodology**
**Page 10**

#### Required Content:

1. **Section Header**
   - "Data Sources and Methodology"

2. **Forecast Model Information**
   - Model name and version (e.g., GFS v15.1)
   - Model run date and time (UTC)
   - Forecast horizon (7 days)
   - Grid resolution (e.g., 0.25°)

3. **Data Processing**
   - Aggregation method (point-in-polygon or area-weighted)
   - Number of grid points used
   - Spatial interpolation details
   - Quality control measures

4. **Observational Data** (if included)
   - Source of observations
   - Station locations
   - Data integration method
   - Last update timestamp

5. **Shapefile Sources**
   - County boundaries source (e.g., KNBS, HDX)
   - Ward boundaries source
   - Coordinate reference system (CRS)
   - Data version/date

6. **Limitations and Uncertainties**
   - Model uncertainty statement
   - Spatial aggregation limitations
   - Temporal resolution constraints
   - Ward-level forecast accuracy note

---

### **Section 11: Metadata and Disclaimers**
**Page 10 (continued) or Page 11**

#### Required Content:

1. **Generation Metadata Table**
   - Report generation timestamp
   - System version
   - Processing duration
   - Data quality flags
   - Warnings (if any)

2. **Disclaimer Statement**
   - Standard disclaimer about forecast accuracy
   - Ward-level map limitations
   - Use case guidance
   - Contact information for updates

3. **Copyright and Attribution**
   - Data source attribution (NOAA/NCEP for GFS)
   - System attribution
   - Usage rights

4. **Contact Information**
   - Kenya Meteorological Department contact (if applicable)
   - Technical support contact
   - Report feedback mechanism

---

## 4. Report Formatting Standards

### 4.1 Typography
- **Font Family:** Professional sans-serif (e.g., Arial, Helvetica, or system default)
- **Headings:** Bold, hierarchical sizing (H1: 24pt, H2: 18pt, H3: 14pt)
- **Body Text:** Regular, 11-12pt
- **Tables:** 10pt, clear borders
- **Captions:** 9pt, italic

### 4.2 Color Scheme
- **Rainfall Maps:** Blue gradient (light to dark blue)
- **Temperature Maps:** Color gradient (blue → green → yellow → orange → red)
- **Wind Maps:** Color gradient appropriate for wind speeds
- **Text:** Black on white background
- **Accents:** Use sparingly for highlights

### 4.3 Page Layout
- **Page Size:** A4 (210mm × 297mm) or Letter (8.5" × 11")
- **Margins:** 20mm (0.79") on all sides
- **Header/Footer:** Include page numbers, report title (abbreviated)
- **Line Spacing:** 1.15 for body text, 1.5 for narrative sections

### 4.4 Tables
- **Format:** Clear borders, alternating row colors (optional)
- **Headers:** Bold, background color
- **Alignment:** Numbers right-aligned, text left-aligned
- **Units:** Clearly stated in headers or footnotes

### 4.5 Charts and Graphs
- **Format:** Clear, professional styling
- **Axes:** Labeled with units
- **Legends:** Positioned clearly
- **Colors:** Consistent with map color schemes

---

## 5. Content Requirements by Section

### 5.1 Mandatory Content
All sections listed above are **mandatory** and must be included in every report.

### 5.2 Optional Content
- Historical comparison (previous week, same week last year)
- Seasonal context
- Climate indices (if calculated)
- Extended outlook (beyond 7 days, if available)

### 5.3 Conditional Content
- **Observational Data Integration:** Include if available and configured
- **Ensemble Forecasts:** Include if multiple models are used
- **Warnings/Alerts:** Include only if thresholds are exceeded

---

## 6. Data Quality and Validation

### 6.1 Required Validations
- All numerical values must be within reasonable ranges for Kenya
- Dates must be valid and sequential
- Ward names must match official boundaries
- Maps must render correctly with proper CRS

### 6.2 Quality Flags
Reports must include indicators if:
- Data quality is degraded
- Missing data for certain wards
- Model uncertainty is high
- Observations are unavailable

---

## 7. Report Generation Rules

### 7.1 Section Order
Sections must appear in the exact order specified in Section 3.

### 7.2 Page Breaks
- Each major section should start on a new page when possible
- Maps should be on dedicated pages
- Avoid orphaned headings or tables split awkwardly

### 7.3 Conditional Sections
- If a section has no meaningful data, include a note: "No significant [condition] expected this week"
- Never omit a section entirely

---

## 8. Narrative Generation Guidelines

### 8.1 Tone and Style
- **Professional:** Suitable for government and institutional use
- **Accessible:** Understandable by non-meteorologists
- **Objective:** Fact-based, avoid speculation
- **Advisory:** Provide actionable information

### 8.2 Language Requirements
- Use specific numbers: "45-60 mm" not "moderate rainfall"
- Include temporal context: "on Tuesday afternoon"
- Reference spatial context: "western wards", "coastal areas"
- Use standard meteorological terminology

### 8.3 Template Structure
Narratives should follow templates but be customized based on actual data:
- Opening: Overall pattern
- Body: Variable-specific details with temporal breakdown
- Closing: Summary and notable conditions

---

## 9. Implementation Notes

### 9.1 PDF Generation
- Use ReportLab, WeasyPrint, or similar library
- Ensure all fonts are embedded
- Optimize file size while maintaining quality
- Include bookmarks/navigation (optional but recommended)

### 9.2 Map Generation
- Generate maps as high-resolution images
- Use consistent styling across all maps
- Ensure color scales are scientifically appropriate
- Test map readability at different zoom levels

### 9.3 Data Integration
- Pull data from `CountyWeatherReport` interface (see `lib/weather-schemas.ts`)
- Use ward-level data for spatial visualizations
- Calculate county-level aggregates from ward data
- Include metadata from report generation process

---

## 10. Future Enhancements

Potential additions for future versions:
- Multi-model ensemble forecasts
- Extended outlook (14-day)
- Historical comparison charts
- Interactive digital version (HTML)
- Swahili language translation
- Sector-specific report variants
- Automated email summaries

---

## 11. Approval and Sign-off

**Prepared by:** Person B  
**Reviewed by:** [To be filled]  
**Approved by:** [To be filled]  
**Implementation Date:** [To be filled]

---

## 12. Document Control

- **Version History:**
  - v1.0 (2026-01-06): Initial specification by Person B

- **Change Log:**
  - All changes must be documented with version number and date

---

**End of Specification Document**
